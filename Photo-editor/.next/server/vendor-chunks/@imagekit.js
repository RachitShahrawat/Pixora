"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@imagekit";
exports.ids = ["vendor-chunks/@imagekit"];
exports.modules = {

/***/ "(ssr)/./node_modules/@imagekit/next/dist/client/index-esm.js":
/*!**************************************************************!*\
  !*** ./node_modules/@imagekit/next/dist/client/index-esm.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Image: () => (/* binding */ Image),\n/* harmony export */   ImageKitAbortError: () => (/* binding */ ImageKitAbortError),\n/* harmony export */   ImageKitContext: () => (/* binding */ ImageKitContext),\n/* harmony export */   ImageKitInvalidRequestError: () => (/* binding */ ImageKitInvalidRequestError),\n/* harmony export */   ImageKitProvider: () => (/* binding */ ImageKitProvider),\n/* harmony export */   ImageKitServerError: () => (/* binding */ ImageKitServerError),\n/* harmony export */   ImageKitUploadNetworkError: () => (/* binding */ ImageKitUploadNetworkError),\n/* harmony export */   Video: () => (/* binding */ Video),\n/* harmony export */   buildSrc: () => (/* binding */ buildSrc),\n/* harmony export */   buildTransformationString: () => (/* binding */ buildTransformationString),\n/* harmony export */   getResponsiveImageAttributes: () => (/* binding */ getResponsiveImageAttributes),\n/* harmony export */   upload: () => (/* binding */ upload)\n/* harmony export */ });\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ Image,ImageKitAbortError,ImageKitContext,ImageKitInvalidRequestError,ImageKitProvider,ImageKitServerError,ImageKitUploadNetworkError,Video,buildSrc,buildTransformationString,getResponsiveImageAttributes,upload auto */ \n\nvar errorMessages = {\n    MISSING_UPLOAD_FILE_PARAMETER: {\n        message: \"Missing file parameter for upload\"\n    },\n    MISSING_UPLOAD_FILENAME_PARAMETER: {\n        message: \"Missing fileName parameter for upload\"\n    },\n    MISSING_PUBLIC_KEY: {\n        message: \"Missing public key for upload\"\n    },\n    UPLOAD_ENDPOINT_NETWORK_ERROR: {\n        message: \"Request to ImageKit upload endpoint failed due to network error\"\n    },\n    MISSING_SIGNATURE: {\n        message: \"Missing signature for upload. The SDK expects token, signature and expire for authentication.\"\n    },\n    MISSING_TOKEN: {\n        message: \"Missing token for upload. The SDK expects token, signature and expire for authentication.\"\n    },\n    MISSING_EXPIRE: {\n        message: \"Missing expire for upload. The SDK expects token, signature and expire for authentication.\"\n    },\n    INVALID_TRANSFORMATION: {\n        message: \"Invalid transformation parameter. Please include at least pre, post, or both.\"\n    },\n    INVALID_PRE_TRANSFORMATION: {\n        message: \"Invalid pre transformation parameter.\"\n    },\n    INVALID_POST_TRANSFORMATION: {\n        message: \"Invalid post transformation parameter.\"\n    }\n};\nclass ImageKitInvalidRequestError extends Error {\n    constructor(message, responseMetadata){\n        super(message);\n        this.$ResponseMetadata = void 0;\n        this.name = \"ImageKitInvalidRequestError\";\n        this.$ResponseMetadata = responseMetadata;\n    }\n}\nclass ImageKitAbortError extends Error {\n    constructor(message, reason){\n        super(message);\n        this.reason = void 0;\n        this.name = \"ImageKitAbortError\";\n        this.reason = reason;\n    }\n}\nclass ImageKitUploadNetworkError extends Error {\n    constructor(message){\n        super(message);\n        this.name = \"ImageKitUploadNetworkError\";\n    }\n}\nclass ImageKitServerError extends Error {\n    constructor(message, responseMetadata){\n        super(message);\n        this.$ResponseMetadata = void 0;\n        this.name = \"ImageKitServerError\";\n        this.$ResponseMetadata = responseMetadata;\n    }\n}\nconst upload = (uploadOptions)=>{\n    if (!uploadOptions) {\n        return Promise.reject(new ImageKitInvalidRequestError(\"Invalid options provided for upload\"));\n    }\n    return new Promise((resolve, reject)=>{\n        const { xhr: userProvidedXHR } = uploadOptions || {};\n        delete uploadOptions.xhr;\n        const xhr = userProvidedXHR || new XMLHttpRequest();\n        if (!uploadOptions.file) {\n            return reject(new ImageKitInvalidRequestError(errorMessages.MISSING_UPLOAD_FILE_PARAMETER.message));\n        }\n        if (!uploadOptions.fileName) {\n            return reject(new ImageKitInvalidRequestError(errorMessages.MISSING_UPLOAD_FILENAME_PARAMETER.message));\n        }\n        if (!uploadOptions.publicKey || uploadOptions.publicKey.length === 0) {\n            return reject(new ImageKitInvalidRequestError(errorMessages.MISSING_PUBLIC_KEY.message));\n        }\n        if (!uploadOptions.token) {\n            return reject(new ImageKitInvalidRequestError(errorMessages.MISSING_TOKEN.message));\n        }\n        if (!uploadOptions.signature) {\n            return reject(new ImageKitInvalidRequestError(errorMessages.MISSING_SIGNATURE.message));\n        }\n        if (!uploadOptions.expire) {\n            return reject(new ImageKitInvalidRequestError(errorMessages.MISSING_EXPIRE.message));\n        }\n        if (uploadOptions.transformation) {\n            if (!(Object.keys(uploadOptions.transformation).includes(\"pre\") || Object.keys(uploadOptions.transformation).includes(\"post\"))) {\n                return reject(new ImageKitInvalidRequestError(errorMessages.INVALID_TRANSFORMATION.message));\n            }\n            if (Object.keys(uploadOptions.transformation).includes(\"pre\") && !uploadOptions.transformation.pre) {\n                return reject(new ImageKitInvalidRequestError(errorMessages.INVALID_PRE_TRANSFORMATION.message));\n            }\n            if (Object.keys(uploadOptions.transformation).includes(\"post\")) {\n                if (Array.isArray(uploadOptions.transformation.post)) {\n                    for (let transformation of uploadOptions.transformation.post){\n                        if (transformation.type === \"abs\" && !(transformation.protocol || transformation.value)) {\n                            return reject(new ImageKitInvalidRequestError(errorMessages.INVALID_POST_TRANSFORMATION.message));\n                        } else if (transformation.type === \"transformation\" && !transformation.value) {\n                            return reject(new ImageKitInvalidRequestError(errorMessages.INVALID_POST_TRANSFORMATION.message));\n                        }\n                    }\n                } else {\n                    return reject(new ImageKitInvalidRequestError(errorMessages.INVALID_POST_TRANSFORMATION.message));\n                }\n            }\n        }\n        var formData = new FormData();\n        let key;\n        for(key in uploadOptions){\n            if (key) {\n                if (key === \"file\" && typeof uploadOptions.file != \"string\") {\n                    formData.set('file', uploadOptions.file, String(uploadOptions.fileName));\n                } else if (key === \"tags\" && Array.isArray(uploadOptions.tags)) {\n                    formData.set('tags', uploadOptions.tags.join(\",\"));\n                } else if (key === 'signature') {\n                    formData.set(\"signature\", uploadOptions.signature);\n                } else if (key === 'expire') {\n                    formData.set(\"expire\", String(uploadOptions.expire));\n                } else if (key === 'token') {\n                    formData.set(\"token\", uploadOptions.token);\n                } else if (key === \"responseFields\" && Array.isArray(uploadOptions.responseFields)) {\n                    formData.set('responseFields', uploadOptions.responseFields.join(\",\"));\n                } else if (key === \"extensions\" && Array.isArray(uploadOptions.extensions)) {\n                    formData.set('extensions', JSON.stringify(uploadOptions.extensions));\n                } else if (key === \"customMetadata\" && typeof uploadOptions.customMetadata === \"object\" && !Array.isArray(uploadOptions.customMetadata) && uploadOptions.customMetadata !== null) {\n                    formData.set('customMetadata', JSON.stringify(uploadOptions.customMetadata));\n                } else if (key === \"transformation\" && typeof uploadOptions.transformation === \"object\" && uploadOptions.transformation !== null) {\n                    formData.set(key, JSON.stringify(uploadOptions.transformation));\n                } else if (key === 'checks' && uploadOptions.checks) {\n                    formData.set(\"checks\", uploadOptions.checks);\n                } else if (uploadOptions[key] !== undefined) {\n                    if ([\n                        \"onProgress\",\n                        \"abortSignal\"\n                    ].includes(key)) continue;\n                    formData.set(key, String(uploadOptions[key]));\n                }\n            }\n        }\n        if (uploadOptions.onProgress) {\n            xhr.upload.onprogress = function(event) {\n                if (uploadOptions.onProgress) uploadOptions.onProgress(event);\n            };\n        }\n        function onAbortHandler() {\n            var _uploadOptions$abortS;\n            xhr.abort();\n            return reject(new ImageKitAbortError(\"Upload aborted\", (_uploadOptions$abortS = uploadOptions.abortSignal) === null || _uploadOptions$abortS === void 0 ? void 0 : _uploadOptions$abortS.reason));\n        }\n        if (uploadOptions.abortSignal) {\n            if (uploadOptions.abortSignal.aborted) {\n                var _uploadOptions$abortS2;\n                return reject(new ImageKitAbortError(\"Upload aborted\", (_uploadOptions$abortS2 = uploadOptions.abortSignal) === null || _uploadOptions$abortS2 === void 0 ? void 0 : _uploadOptions$abortS2.reason));\n            }\n            uploadOptions.abortSignal.addEventListener(\"abort\", onAbortHandler);\n            xhr.addEventListener(\"loadend\", ()=>{\n                if (uploadOptions.abortSignal) {\n                    uploadOptions.abortSignal.removeEventListener(\"abort\", onAbortHandler);\n                }\n            });\n        }\n        xhr.open('POST', 'https://upload.imagekit.io/api/v1/files/upload');\n        xhr.onerror = function(e) {\n            return reject(new ImageKitUploadNetworkError(errorMessages.UPLOAD_ENDPOINT_NETWORK_ERROR.message));\n        };\n        xhr.onload = function() {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                try {\n                    var body = JSON.parse(xhr.responseText);\n                    var uploadResponse = addResponseHeadersAndBody(body, xhr);\n                    return resolve(uploadResponse);\n                } catch (ex) {\n                    return reject(ex);\n                }\n            } else if (xhr.status >= 400 && xhr.status < 500) {\n                try {\n                    var body = JSON.parse(xhr.responseText);\n                    return reject(new ImageKitInvalidRequestError(body.message ?? \"Invalid request. Please check the parameters.\", getResponseMetadata(xhr)));\n                } catch (ex) {\n                    return reject(ex);\n                }\n            } else {\n                try {\n                    var body = JSON.parse(xhr.responseText);\n                    return reject(new ImageKitServerError(body.message ?? \"Server error occurred while uploading the file. This is rare and usually temporary.\", getResponseMetadata(xhr)));\n                } catch (ex) {\n                    return reject(new ImageKitServerError(\"Server error occurred while uploading the file. This is rare and usually temporary.\", getResponseMetadata(xhr)));\n                }\n            }\n        };\n        xhr.send(formData);\n    });\n};\nconst addResponseHeadersAndBody = (body, xhr)=>{\n    let response = {\n        ...body\n    };\n    const responseMetadata = getResponseMetadata(xhr);\n    Object.defineProperty(response, \"$ResponseMetadata\", {\n        value: responseMetadata,\n        enumerable: false,\n        writable: false\n    });\n    return response;\n};\nconst getResponseMetadata = (xhr)=>{\n    const headers = getResponseHeaderMap(xhr);\n    const responseMetadata = {\n        statusCode: xhr.status,\n        headers: headers,\n        requestId: headers[\"x-request-id\"]\n    };\n    return responseMetadata;\n};\nfunction getResponseHeaderMap(xhr) {\n    const headers = {};\n    const responseHeaders = xhr.getAllResponseHeaders();\n    if (Object.keys(responseHeaders).length) {\n        responseHeaders.trim().split(/[\\r\\n]+/).map((value)=>value.split(/: /)).forEach((keyValue)=>{\n            headers[keyValue[0].trim().toLowerCase()] = keyValue[1].trim();\n        });\n    }\n    return headers;\n}\nconst supportedTransforms = {\n    width: \"w\",\n    height: \"h\",\n    aspectRatio: \"ar\",\n    background: \"bg\",\n    border: \"b\",\n    crop: \"c\",\n    cropMode: \"cm\",\n    dpr: \"dpr\",\n    focus: \"fo\",\n    quality: \"q\",\n    x: \"x\",\n    xCenter: \"xc\",\n    y: \"y\",\n    yCenter: \"yc\",\n    format: \"f\",\n    videoCodec: \"vc\",\n    audioCodec: \"ac\",\n    radius: \"r\",\n    rotation: \"rt\",\n    blur: \"bl\",\n    named: \"n\",\n    defaultImage: \"di\",\n    flip: \"fl\",\n    original: \"orig\",\n    startOffset: \"so\",\n    endOffset: \"eo\",\n    duration: \"du\",\n    streamingResolutions: \"sr\",\n    grayscale: \"e-grayscale\",\n    aiUpscale: \"e-upscale\",\n    aiRetouch: \"e-retouch\",\n    aiVariation: \"e-genvar\",\n    aiDropShadow: \"e-dropshadow\",\n    aiChangeBackground: \"e-changebg\",\n    aiRemoveBackground: \"e-bgremove\",\n    aiRemoveBackgroundExternal: \"e-removedotbg\",\n    contrastStretch: \"e-contrast\",\n    shadow: \"e-shadow\",\n    sharpen: \"e-sharpen\",\n    unsharpMask: \"e-usm\",\n    gradient: \"e-gradient\",\n    progressive: \"pr\",\n    lossless: \"lo\",\n    colorProfile: \"cp\",\n    metadata: \"md\",\n    opacity: \"o\",\n    trim: \"t\",\n    zoom: \"z\",\n    page: \"pg\",\n    fontSize: \"fs\",\n    fontFamily: \"ff\",\n    fontColor: \"co\",\n    innerAlignment: \"ia\",\n    padding: \"pa\",\n    alpha: \"al\",\n    typography: \"tg\",\n    lineHeight: \"lh\",\n    fontOutline: \"fol\",\n    fontShadow: \"fsh\",\n    raw: \"raw\"\n};\nconst QUERY_TRANSFORMATION_POSITION = \"query\";\nconst CHAIN_TRANSFORM_DELIMITER = \":\";\nconst TRANSFORM_DELIMITER = \",\";\nconst TRANSFORM_KEY_VALUE_DELIMITER = \"-\";\nvar transformationUtils = {\n    addAsQueryParameter: (options)=>{\n        return options.transformationPosition === QUERY_TRANSFORMATION_POSITION;\n    },\n    getTransformKey: function(transform) {\n        if (!transform) {\n            return \"\";\n        }\n        return supportedTransforms[transform] || supportedTransforms[transform.toLowerCase()] || \"\";\n    },\n    getChainTransformDelimiter: function() {\n        return CHAIN_TRANSFORM_DELIMITER;\n    },\n    getTransformDelimiter: function() {\n        return TRANSFORM_DELIMITER;\n    },\n    getTransformKeyValueDelimiter: function() {\n        return TRANSFORM_KEY_VALUE_DELIMITER;\n    }\n};\nconst safeBtoa = function(str) {\n    if (false) {} else {\n        return Buffer.from(str, \"utf8\").toString(\"base64\");\n    }\n};\nconst TRANSFORMATION_PARAMETER = \"tr\";\nconst SIMPLE_OVERLAY_PATH_REGEX = new RegExp('^[a-zA-Z0-9-._/ ]*$');\nconst SIMPLE_OVERLAY_TEXT_REGEX = new RegExp('^[a-zA-Z0-9-._ ]*$');\nfunction removeTrailingSlash(str) {\n    if (typeof str == \"string\" && str[str.length - 1] == \"/\") {\n        str = str.substring(0, str.length - 1);\n    }\n    return str;\n}\nfunction removeLeadingSlash(str) {\n    if (typeof str == \"string\" && str[0] == \"/\") {\n        str = str.slice(1);\n    }\n    return str;\n}\nfunction pathJoin(parts, sep) {\n    var separator = sep || \"/\";\n    var replace = new RegExp(separator + \"{1,}\", \"g\");\n    return parts.join(separator).replace(replace, separator);\n}\nconst buildSrc = (opts)=>{\n    opts.urlEndpoint = opts.urlEndpoint || \"\";\n    opts.src = opts.src || \"\";\n    opts.transformationPosition = opts.transformationPosition || \"query\";\n    if (!opts.src) {\n        return \"\";\n    }\n    const isAbsoluteURL = opts.src.startsWith(\"http://\") || opts.src.startsWith(\"https://\");\n    var urlObj, isSrcParameterUsedForURL, urlEndpointPattern;\n    try {\n        if (!isAbsoluteURL) {\n            urlEndpointPattern = new URL(opts.urlEndpoint).pathname;\n            urlObj = new URL(pathJoin([\n                opts.urlEndpoint.replace(urlEndpointPattern, \"\"),\n                opts.src\n            ]));\n        } else {\n            urlObj = new URL(opts.src);\n            isSrcParameterUsedForURL = true;\n        }\n    } catch (e) {\n        console.error(e);\n        return \"\";\n    }\n    for(var i in opts.queryParameters){\n        urlObj.searchParams.append(i, String(opts.queryParameters[i]));\n    }\n    var transformationString = buildTransformationString(opts.transformation);\n    if (transformationString && transformationString.length) {\n        if (!transformationUtils.addAsQueryParameter(opts) && !isSrcParameterUsedForURL) {\n            urlObj.pathname = pathJoin([\n                TRANSFORMATION_PARAMETER + transformationUtils.getChainTransformDelimiter() + transformationString,\n                urlObj.pathname\n            ]);\n        }\n    }\n    if (urlEndpointPattern) {\n        urlObj.pathname = pathJoin([\n            urlEndpointPattern,\n            urlObj.pathname\n        ]);\n    } else {\n        urlObj.pathname = pathJoin([\n            urlObj.pathname\n        ]);\n    }\n    if (transformationString && transformationString.length) {\n        if (transformationUtils.addAsQueryParameter(opts) || isSrcParameterUsedForURL) {\n            if (urlObj.searchParams.toString() !== \"\") {\n                return `${urlObj.href}&${TRANSFORMATION_PARAMETER}=${transformationString}`;\n            } else {\n                return `${urlObj.href}?${TRANSFORMATION_PARAMETER}=${transformationString}`;\n            }\n        }\n    }\n    return urlObj.href;\n};\nfunction processInputPath(str, enccoding) {\n    str = removeTrailingSlash(removeLeadingSlash(str));\n    if (enccoding === \"plain\") {\n        return `i-${str.replace(/\\//g, \"@@\")}`;\n    }\n    if (enccoding === \"base64\") {\n        return `ie-${encodeURIComponent(safeBtoa(str))}`;\n    }\n    if (SIMPLE_OVERLAY_PATH_REGEX.test(str)) {\n        return `i-${str.replace(/\\//g, \"@@\")}`;\n    } else {\n        return `ie-${encodeURIComponent(safeBtoa(str))}`;\n    }\n}\nfunction processText(str, enccoding) {\n    if (enccoding === \"plain\") {\n        return `i-${encodeURIComponent(str)}`;\n    }\n    if (enccoding === \"base64\") {\n        return `ie-${encodeURIComponent(safeBtoa(str))}`;\n    }\n    if (SIMPLE_OVERLAY_TEXT_REGEX.test(str)) {\n        return `i-${encodeURIComponent(str)}`;\n    }\n    return `ie-${encodeURIComponent(safeBtoa(str))}`;\n}\nfunction processOverlay(overlay) {\n    const entries = [];\n    const { type, position = {}, timing = {}, transformation = [] } = overlay || {};\n    if (!type) {\n        return;\n    }\n    switch(type){\n        case \"text\":\n            {\n                const textOverlay = overlay;\n                if (!textOverlay.text) {\n                    return;\n                }\n                const enccoding = textOverlay.encoding || \"auto\";\n                entries.push(\"l-text\");\n                entries.push(processText(textOverlay.text, enccoding));\n            }\n            break;\n        case \"image\":\n            entries.push(\"l-image\");\n            {\n                const imageOverlay = overlay;\n                const enccoding = imageOverlay.encoding || \"auto\";\n                if (imageOverlay.input) {\n                    entries.push(processInputPath(imageOverlay.input, enccoding));\n                } else {\n                    return;\n                }\n            }\n            break;\n        case \"video\":\n            entries.push(\"l-video\");\n            {\n                const videoOverlay = overlay;\n                const enccoding = videoOverlay.encoding || \"auto\";\n                if (videoOverlay.input) {\n                    entries.push(processInputPath(videoOverlay.input, enccoding));\n                } else {\n                    return;\n                }\n            }\n            break;\n        case \"subtitle\":\n            entries.push(\"l-subtitle\");\n            {\n                const subtitleOverlay = overlay;\n                const enccoding = subtitleOverlay.encoding || \"auto\";\n                if (subtitleOverlay.input) {\n                    entries.push(processInputPath(subtitleOverlay.input, enccoding));\n                } else {\n                    return;\n                }\n            }\n            break;\n        case \"solidColor\":\n            entries.push(\"l-image\");\n            entries.push(`i-ik_canvas`);\n            {\n                const solidColorOverlay = overlay;\n                if (solidColorOverlay.color) {\n                    entries.push(`bg-${solidColorOverlay.color}`);\n                } else {\n                    return;\n                }\n            }\n            break;\n    }\n    const { x, y, focus } = position;\n    if (x) {\n        entries.push(`lx-${x}`);\n    }\n    if (y) {\n        entries.push(`ly-${y}`);\n    }\n    if (focus) {\n        entries.push(`lfo-${focus}`);\n    }\n    const { start, end, duration } = timing;\n    if (start) {\n        entries.push(`lso-${start}`);\n    }\n    if (end) {\n        entries.push(`leo-${end}`);\n    }\n    if (duration) {\n        entries.push(`ldu-${duration}`);\n    }\n    const transformationString = buildTransformationString(transformation);\n    if (transformationString && transformationString.trim() !== \"\") entries.push(transformationString);\n    entries.push(\"l-end\");\n    return entries.join(transformationUtils.getTransformDelimiter());\n}\nconst buildTransformationString = function(transformation) {\n    if (!Array.isArray(transformation)) {\n        return \"\";\n    }\n    var parsedTransforms = [];\n    for(var i = 0, l = transformation.length; i < l; i++){\n        var parsedTransformStep = [];\n        for(var key in transformation[i]){\n            let value = transformation[i][key];\n            if (value === undefined || value === null) {\n                continue;\n            }\n            if (key === \"overlay\" && typeof value === \"object\") {\n                var rawString = processOverlay(value);\n                if (rawString && rawString.trim() !== \"\") {\n                    parsedTransformStep.push(rawString);\n                }\n                continue;\n            }\n            var transformKey = transformationUtils.getTransformKey(key);\n            if (!transformKey) {\n                transformKey = key;\n            }\n            if (transformKey === \"\") {\n                continue;\n            }\n            if ([\n                \"e-grayscale\",\n                \"e-contrast\",\n                \"e-removedotbg\",\n                \"e-bgremove\",\n                \"e-upscale\",\n                \"e-retouch\",\n                \"e-genvar\"\n            ].includes(transformKey)) {\n                if (value === true || value === \"-\" || value === \"true\") {\n                    parsedTransformStep.push(transformKey);\n                } else {\n                    continue;\n                }\n            } else if ([\n                \"e-sharpen\",\n                \"e-shadow\",\n                \"e-gradient\",\n                \"e-usm\",\n                \"e-dropshadow\"\n            ].includes(transformKey) && (value.toString().trim() === \"\" || value === true || value === \"true\")) {\n                parsedTransformStep.push(transformKey);\n            } else if (key === \"raw\") {\n                parsedTransformStep.push(transformation[i][key]);\n            } else {\n                if (transformKey === \"di\") {\n                    value = removeTrailingSlash(removeLeadingSlash(value || \"\"));\n                    value = value.replace(/\\//g, \"@@\");\n                }\n                if (transformKey === \"sr\" && Array.isArray(value)) {\n                    value = value.join(\"_\");\n                }\n                if (transformKey === \"t\" && value.toString().trim() === \"\") {\n                    value = \"true\";\n                }\n                parsedTransformStep.push([\n                    transformKey,\n                    value\n                ].join(transformationUtils.getTransformKeyValueDelimiter()));\n            }\n        }\n        if (parsedTransformStep.length) {\n            parsedTransforms.push(parsedTransformStep.join(transformationUtils.getTransformDelimiter()));\n        }\n    }\n    return parsedTransforms.join(transformationUtils.getChainTransformDelimiter());\n};\nconst DEFAULT_DEVICE_BREAKPOINTS = [\n    640,\n    750,\n    828,\n    1080,\n    1200,\n    1920,\n    2048,\n    3840\n];\nconst DEFAULT_IMAGE_BREAKPOINTS = [\n    16,\n    32,\n    48,\n    64,\n    96,\n    128,\n    256,\n    384\n];\nfunction getResponsiveImageAttributes(opts) {\n    const { src, urlEndpoint, transformation = [], queryParameters, transformationPosition, sizes, width, deviceBreakpoints = DEFAULT_DEVICE_BREAKPOINTS, imageBreakpoints = DEFAULT_IMAGE_BREAKPOINTS } = opts;\n    const sortedDeviceBreakpoints = [\n        ...deviceBreakpoints\n    ].sort((a, b)=>a - b);\n    const sortedImageBreakpoints = [\n        ...imageBreakpoints\n    ].sort((a, b)=>a - b);\n    const allBreakpoints = [\n        ...sortedImageBreakpoints,\n        ...sortedDeviceBreakpoints\n    ].sort((a, b)=>a - b);\n    const { candidates, descriptorKind } = computeCandidateWidths({\n        allBreakpoints,\n        deviceBreakpoints: sortedDeviceBreakpoints,\n        explicitWidth: width,\n        sizesAttr: sizes\n    });\n    const buildURL = (w)=>buildSrc({\n            src,\n            urlEndpoint,\n            queryParameters,\n            transformationPosition,\n            transformation: [\n                ...transformation,\n                {\n                    width: w,\n                    crop: 'at_max'\n                }\n            ]\n        });\n    const srcSet = candidates.map((w, i)=>`${buildURL(w)} ${descriptorKind === 'w' ? w : i + 1}${descriptorKind}`).join(', ') || undefined;\n    const finalSizes = sizes ?? (descriptorKind === 'w' ? '100vw' : undefined);\n    return {\n        src: buildURL(candidates[candidates.length - 1]),\n        srcSet,\n        ...finalSizes ? {\n            sizes: finalSizes\n        } : {},\n        ...width !== undefined ? {\n            width\n        } : {}\n    };\n}\nfunction computeCandidateWidths(params) {\n    const { allBreakpoints, deviceBreakpoints, explicitWidth, sizesAttr } = params;\n    if (sizesAttr) {\n        const vwTokens = sizesAttr.match(/(^|\\s)(1?\\d{1,2})vw/g) || [];\n        const vwPercents = vwTokens.map((t)=>parseInt(t, 10));\n        if (vwPercents.length) {\n            const smallestRatio = Math.min(...vwPercents) / 100;\n            const minRequiredPx = deviceBreakpoints[0] * smallestRatio;\n            return {\n                candidates: allBreakpoints.filter((w)=>w >= minRequiredPx),\n                descriptorKind: 'w'\n            };\n        }\n        return {\n            candidates: allBreakpoints,\n            descriptorKind: 'w'\n        };\n    }\n    if (typeof explicitWidth !== 'number') {\n        return {\n            candidates: deviceBreakpoints,\n            descriptorKind: 'w'\n        };\n    }\n    const nearest = (t)=>allBreakpoints.find((n)=>n >= t) || allBreakpoints[allBreakpoints.length - 1];\n    const unique = Array.from(new Set([\n        nearest(explicitWidth),\n        nearest(explicitWidth * 2)\n    ]));\n    return {\n        candidates: unique,\n        descriptorKind: 'x'\n    };\n}\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ function __rest(s, e) {\n    var t = {};\n    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function(error, suppressed, message) {\n    var e = new Error(message);\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nconst ImageKitContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\n/**\n * You can use the `ImageKitProvider` component to set the default values for all nested Image and Video components provided by the SDK.\n *\n * It accepts the following props:\n * - `urlEndpoint`: The URL endpoint for your ImageKit account. You can get this from the [ImageKit dashboard](https://imagekit.io/dashboard/url-endpoints).\n * - `transformationPosition`: The position of the transformation string in the URL. It can be either `path` or `query`. By default, it is set to `query`.\n *\n * @example\n * ```jsx\n * import { ImageKitProvider, Image } from \"@imagekit/next\";\n * <ImageKitProvider urlEndpoint=\"https://ik.imagekit.io/your_imagekit_id\">\n *   <Image src=\"/default-image.jpg\" />\n * </ImageKitProvider>\n * ```\n */ const ImageKitProvider = (props)=>{\n    const { urlEndpoint, transformationPosition } = props;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ImageKitContext.Provider, {\n        value: {\n            urlEndpoint,\n            transformationPosition\n        }\n    }, props.children);\n};\n/**\n * The Image component is a wrapper around the Next.js Image component. It supports all the features of the Next.js Image component, along with additional features provided by ImageKit.\n *\n * @example\n * ```jsx\n * import { Image } from \"@imagekit/next\";\n * <Image\n *  urlEndpoint=\"https://ik.imagekit.io/your_imagekit_id\" // You can also set this in a parent ImageKitProvider component\n *  src=\"/default-image.jpg\" // The path to the image in your ImageKit account\n *  alt=\"Default Image\"\n *  width={500}\n *  height={500}\n *  transformation={[{ width: 500, height: 500 }]} // Add ImageKit transformations\n * />\n * ```\n */ const Image = (props)=>{\n    if (props.loader) {\n        if (true) {\n            console.warn('loader prop is ignored by ImageKit Image component.');\n        }\n    }\n    const contextValues = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ImageKitContext);\n    // Its important to extract the ImageKit specific props from the props, so that we can use the rest of the props as is in the NextImage component\n    const _a = Object.assign(Object.assign({}, contextValues), props // Override with props\n    ), { transformation = [], unoptimized = false, quality, src = \"\", queryParameters, urlEndpoint, transformationPosition, responsive = true, loader } = _a, nonIKParams = __rest(_a, [\n        \"transformation\",\n        \"unoptimized\",\n        \"quality\",\n        \"src\",\n        \"queryParameters\",\n        \"urlEndpoint\",\n        \"transformationPosition\",\n        \"responsive\",\n        \"loader\"\n    ]);\n    if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n        if (true) {\n            console.error(\"urlEndpoint is neither provided in this component nor in the ImageKitContext.\");\n        }\n        return null;\n    }\n    const isAbsoluteURL = src.startsWith(\"http://\") || src.startsWith(\"https://\");\n    // Do not mutate original transformation array from the props\n    const finalTransformation = [\n        ...transformation\n    ];\n    let propsTransformation = {};\n    if (quality) {\n        const parsedQuality = Number(quality);\n        if (!isNaN(parsedQuality)) {\n            propsTransformation.quality = parsedQuality;\n        } else {\n            if (true) {\n                console.error('Invalid quality value, skipping transformation.');\n            }\n        }\n    }\n    // Return original file without any transformation or optimization to match the behavior of NextImage\n    // Always keep src in the end\n    if (unoptimized) {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(next_image__WEBPACK_IMPORTED_MODULE_0__[\"default\"], Object.assign({\n            unoptimized: true\n        }, nonIKParams, {\n            src: buildSrc({\n                urlEndpoint,\n                src,\n                queryParameters,\n                transformationPosition,\n                transformation: [\n                    {\n                        \"raw\": \"orig-true\"\n                    }\n                ]\n            })\n        }));\n    }\n    // User disabled responsive images\n    if (!responsive) {\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(next_image__WEBPACK_IMPORTED_MODULE_0__[\"default\"], Object.assign({\n            unoptimized: true\n        }, nonIKParams, {\n            src: buildSrc({\n                urlEndpoint,\n                src,\n                queryParameters,\n                transformationPosition,\n                // keep only userâ€‘supplied transformations;no width, no crop\n                transformation: [\n                    ...finalTransformation,\n                    Object.assign({}, propsTransformation)\n                ]\n            })\n        }));\n    }\n    // Don't pass transformation just yet as loader will take care of it along with width for srcset generation as per Next.js logic.\n    const finalSrcWithoutTransformation = buildSrc({\n        urlEndpoint,\n        queryParameters,\n        src\n    });\n    return(// Always keep src in the end\n    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(next_image__WEBPACK_IMPORTED_MODULE_0__[\"default\"], Object.assign({\n        loader: ({ src, width })=>{\n            // Since `src` inside loader is always absolute, `buildSrc` won't respect the `path` transformation position.\n            // To fix this, if the original src prop isn't an absolute URL, remove `urlEndpoint` from this `src`\n            // before calling `buildSrc`. Otherwise, leave it as is.\n            const srcWithoutUrlEndpoint = !isAbsoluteURL ? src.replace(urlEndpoint, \"\") : src;\n            const finalSrc = buildSrc({\n                urlEndpoint,\n                src: srcWithoutUrlEndpoint,\n                transformationPosition,\n                transformation: [\n                    ...finalTransformation,\n                    Object.assign(Object.assign({}, propsTransformation), {\n                        width,\n                        crop: \"at_max\"\n                    })\n                ]\n            });\n            return finalSrc;\n        }\n    }, nonIKParams, {\n        src: finalSrcWithoutTransformation\n    })));\n};\n/**\n * The Video component is a wrapper around the HTML video element. It supports all the features of the HTML video element, along with additional features provided by ImageKit.\n *\n * @example\n * ```jsx\n * import { Video } from \"@imagekit/next\";\n * <Video\n *  urlEndpoint=\"https://ik.imagekit.io/your_imagekit_id\" // You can also set this in a parent ImageKitProvider component\n *  src=\"/default-video.mp4\" // The path to the video in your ImageKit account\n *  controls\n *  width={500}\n *  height={500}\n *  transformation={[{ width: 500, height: 500 }]} // Add ImageKit transformations\n * />\n * ```\n */ const Video = (props)=>{\n    const contextValues = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ImageKitContext);\n    // Its important to extract the ImageKit specific props from the props, so that we can use the rest of the props as is in the video element\n    const _a = Object.assign(Object.assign({}, contextValues), props // Override with props\n    ), { transformation = [], src = \"\", queryParameters, urlEndpoint, transformationPosition } = _a, nonIKParams = __rest(_a, [\n        \"transformation\",\n        \"src\",\n        \"queryParameters\",\n        \"urlEndpoint\",\n        \"transformationPosition\"\n    ]);\n    if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n        if (true) {\n            console.error(\"urlEndpoint is neither provided in this component nor in the ImageKitContext.\");\n        }\n        return null;\n    }\n    const finalSrc = buildSrc({\n        urlEndpoint,\n        src,\n        transformation: [\n            ...transformation\n        ],\n        // Do not mutate original transformation array from the props\n        queryParameters,\n        transformationPosition\n    });\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"video\", Object.assign({}, nonIKParams, {\n        src: finalSrc\n    }));\n};\n //# sourceMappingURL=index-esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGltYWdla2l0L25leHQvZGlzdC9jbGllbnQvaW5kZXgtZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSSxhQUFhLEdBQUc7SUFDbEIsNkJBQTZCLEVBQUU7UUFDN0IsT0FBTyxFQUFFLG1DQUFtQztJQUNoRCxDQUFHO0lBQ0QsaUNBQWlDLEVBQUU7UUFDakMsT0FBTyxFQUFFLHVDQUF1QztJQUNwRCxDQUFHO0lBQ0Qsa0JBQWtCLEVBQUU7UUFDbEIsT0FBTyxFQUFFLCtCQUErQjtJQUM1QyxDQUFHO0lBQ0QsNkJBQTZCLEVBQUU7UUFDN0IsT0FBTyxFQUFFLGlFQUFpRTtJQUM5RSxDQUFHO0lBQ0QsaUJBQWlCLEVBQUU7UUFDakIsT0FBTyxFQUFFLCtGQUErRjtJQUM1RyxDQUFHO0lBQ0QsYUFBYSxFQUFFO1FBQ2IsT0FBTyxFQUFFLDJGQUEyRjtJQUN4RyxDQUFHO0lBQ0QsY0FBYyxFQUFFO1FBQ2QsT0FBTyxFQUFFLDRGQUE0RjtJQUN6RyxDQUFHO0lBQ0Qsc0JBQXNCLEVBQUU7UUFDdEIsT0FBTyxFQUFFLCtFQUErRTtJQUM1RixDQUFHO0lBQ0QsMEJBQTBCLEVBQUU7UUFDMUIsT0FBTyxFQUFFLHVDQUF1QztJQUNwRCxDQUFHO0lBQ0QsMkJBQTJCLEVBQUU7UUFDM0IsT0FBTyxFQUFFLHdDQUF3QztJQUNyRCxDQUFHO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSwyQkFBMkIsU0FBUyxLQUFLLENBQUM7SUFDOUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBRTtRQUNyQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksR0FBRyw2QkFBNkIsQ0FBQztRQUMxQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZ0JBQWdCLENBQUM7SUFDOUMsQ0FBRztBQUNILENBQUM7QUFD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Q0FBQztRQUN4QnJDLFdBQVc7UUFDWHFCLEdBQUc7UUFDSEgsY0FBYyxFQUFFLENBQUM7ZUFBR0EsY0FBYztTQUFDO1FBQUU7UUFDckNJLGVBQWU7UUFDZnJCLHNCQUFBQTtJQUNELEVBQUM7SUFFRixxQkFDRUMsMERBQUFBLENBQUFBLFNBQUFBLE9BQUFBLE1BQUFBLENBQUFBLENBQUFBLEdBQVdzQixXQUFXO1FBQUVILEdBQUcsRUFBRXFCLFFBQUFBO0lBQVk7QUFFN0MiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXG5vZGVfbW9kdWxlc1xcQGltYWdla2l0XFxqYXZhc2NyaXB0XFxkaXN0XFxpbWFnZWtpdC5lc20uanMiLCJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxub2RlX21vZHVsZXNcXHRzbGliXFx0c2xpYi5lczYuanMiLCJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxzcmNcXHByb3ZpZGVyXFxJbWFnZUtpdC50c3giLCJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxzcmNcXGNvbXBvbmVudHNcXEltYWdlLnRzeCIsIkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXHNyY1xcY29tcG9uZW50c1xcVmlkZW8udHN4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBlcnJvck1lc3NhZ2VzID0ge1xuICBNSVNTSU5HX1VQTE9BRF9GSUxFX1BBUkFNRVRFUjoge1xuICAgIG1lc3NhZ2U6IFwiTWlzc2luZyBmaWxlIHBhcmFtZXRlciBmb3IgdXBsb2FkXCJcbiAgfSxcbiAgTUlTU0lOR19VUExPQURfRklMRU5BTUVfUEFSQU1FVEVSOiB7XG4gICAgbWVzc2FnZTogXCJNaXNzaW5nIGZpbGVOYW1lIHBhcmFtZXRlciBmb3IgdXBsb2FkXCJcbiAgfSxcbiAgTUlTU0lOR19QVUJMSUNfS0VZOiB7XG4gICAgbWVzc2FnZTogXCJNaXNzaW5nIHB1YmxpYyBrZXkgZm9yIHVwbG9hZFwiXG4gIH0sXG4gIFVQTE9BRF9FTkRQT0lOVF9ORVRXT1JLX0VSUk9SOiB7XG4gICAgbWVzc2FnZTogXCJSZXF1ZXN0IHRvIEltYWdlS2l0IHVwbG9hZCBlbmRwb2ludCBmYWlsZWQgZHVlIHRvIG5ldHdvcmsgZXJyb3JcIlxuICB9LFxuICBNSVNTSU5HX1NJR05BVFVSRToge1xuICAgIG1lc3NhZ2U6IFwiTWlzc2luZyBzaWduYXR1cmUgZm9yIHVwbG9hZC4gVGhlIFNESyBleHBlY3RzIHRva2VuLCBzaWduYXR1cmUgYW5kIGV4cGlyZSBmb3IgYXV0aGVudGljYXRpb24uXCJcbiAgfSxcbiAgTUlTU0lOR19UT0tFTjoge1xuICAgIG1lc3NhZ2U6IFwiTWlzc2luZyB0b2tlbiBmb3IgdXBsb2FkLiBUaGUgU0RLIGV4cGVjdHMgdG9rZW4sIHNpZ25hdHVyZSBhbmQgZXhwaXJlIGZvciBhdXRoZW50aWNhdGlvbi5cIlxuICB9LFxuICBNSVNTSU5HX0VYUElSRToge1xuICAgIG1lc3NhZ2U6IFwiTWlzc2luZyBleHBpcmUgZm9yIHVwbG9hZC4gVGhlIFNESyBleHBlY3RzIHRva2VuLCBzaWduYXR1cmUgYW5kIGV4cGlyZSBmb3IgYXV0aGVudGljYXRpb24uXCJcbiAgfSxcbiAgSU5WQUxJRF9UUkFOU0ZPUk1BVElPTjoge1xuICAgIG1lc3NhZ2U6IFwiSW52YWxpZCB0cmFuc2Zvcm1hdGlvbiBwYXJhbWV0ZXIuIFBsZWFzZSBpbmNsdWRlIGF0IGxlYXN0IHByZSwgcG9zdCwgb3IgYm90aC5cIlxuICB9LFxuICBJTlZBTElEX1BSRV9UUkFOU0ZPUk1BVElPTjoge1xuICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBwcmUgdHJhbnNmb3JtYXRpb24gcGFyYW1ldGVyLlwiXG4gIH0sXG4gIElOVkFMSURfUE9TVF9UUkFOU0ZPUk1BVElPTjoge1xuICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBwb3N0IHRyYW5zZm9ybWF0aW9uIHBhcmFtZXRlci5cIlxuICB9XG59O1xuXG5jbGFzcyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlTWV0YWRhdGEpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLiRSZXNwb25zZU1ldGFkYXRhID0gdm9pZCAwO1xuICAgIHRoaXMubmFtZSA9IFwiSW1hZ2VLaXRJbnZhbGlkUmVxdWVzdEVycm9yXCI7XG4gICAgdGhpcy4kUmVzcG9uc2VNZXRhZGF0YSA9IHJlc3BvbnNlTWV0YWRhdGE7XG4gIH1cbn1cbmNsYXNzIEltYWdlS2l0QWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgcmVhc29uKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5yZWFzb24gPSB2b2lkIDA7XG4gICAgdGhpcy5uYW1lID0gXCJJbWFnZUtpdEFib3J0RXJyb3JcIjtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgfVxufVxuY2xhc3MgSW1hZ2VLaXRVcGxvYWROZXR3b3JrRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBcIkltYWdlS2l0VXBsb2FkTmV0d29ya0Vycm9yXCI7XG4gIH1cbn1cbmNsYXNzIEltYWdlS2l0U2VydmVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3BvbnNlTWV0YWRhdGEpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLiRSZXNwb25zZU1ldGFkYXRhID0gdm9pZCAwO1xuICAgIHRoaXMubmFtZSA9IFwiSW1hZ2VLaXRTZXJ2ZXJFcnJvclwiO1xuICAgIHRoaXMuJFJlc3BvbnNlTWV0YWRhdGEgPSByZXNwb25zZU1ldGFkYXRhO1xuICB9XG59XG5jb25zdCB1cGxvYWQgPSB1cGxvYWRPcHRpb25zID0+IHtcbiAgaWYgKCF1cGxvYWRPcHRpb25zKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IoXCJJbnZhbGlkIG9wdGlvbnMgcHJvdmlkZWQgZm9yIHVwbG9hZFwiKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB4aHI6IHVzZXJQcm92aWRlZFhIUlxuICAgIH0gPSB1cGxvYWRPcHRpb25zIHx8IHt9O1xuICAgIGRlbGV0ZSB1cGxvYWRPcHRpb25zLnhocjtcbiAgICBjb25zdCB4aHIgPSB1c2VyUHJvdmlkZWRYSFIgfHwgbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgaWYgKCF1cGxvYWRPcHRpb25zLmZpbGUpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0SW52YWxpZFJlcXVlc3RFcnJvcihlcnJvck1lc3NhZ2VzLk1JU1NJTkdfVVBMT0FEX0ZJTEVfUEFSQU1FVEVSLm1lc3NhZ2UpKTtcbiAgICB9XG4gICAgaWYgKCF1cGxvYWRPcHRpb25zLmZpbGVOYW1lKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IoZXJyb3JNZXNzYWdlcy5NSVNTSU5HX1VQTE9BRF9GSUxFTkFNRV9QQVJBTUVURVIubWVzc2FnZSkpO1xuICAgIH1cbiAgICBpZiAoIXVwbG9hZE9wdGlvbnMucHVibGljS2V5IHx8IHVwbG9hZE9wdGlvbnMucHVibGljS2V5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgSW1hZ2VLaXRJbnZhbGlkUmVxdWVzdEVycm9yKGVycm9yTWVzc2FnZXMuTUlTU0lOR19QVUJMSUNfS0VZLm1lc3NhZ2UpKTtcbiAgICB9XG4gICAgaWYgKCF1cGxvYWRPcHRpb25zLnRva2VuKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IoZXJyb3JNZXNzYWdlcy5NSVNTSU5HX1RPS0VOLm1lc3NhZ2UpKTtcbiAgICB9XG4gICAgaWYgKCF1cGxvYWRPcHRpb25zLnNpZ25hdHVyZSkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgSW1hZ2VLaXRJbnZhbGlkUmVxdWVzdEVycm9yKGVycm9yTWVzc2FnZXMuTUlTU0lOR19TSUdOQVRVUkUubWVzc2FnZSkpO1xuICAgIH1cbiAgICBpZiAoIXVwbG9hZE9wdGlvbnMuZXhwaXJlKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IoZXJyb3JNZXNzYWdlcy5NSVNTSU5HX0VYUElSRS5tZXNzYWdlKSk7XG4gICAgfVxuICAgIGlmICh1cGxvYWRPcHRpb25zLnRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICBpZiAoIShPYmplY3Qua2V5cyh1cGxvYWRPcHRpb25zLnRyYW5zZm9ybWF0aW9uKS5pbmNsdWRlcyhcInByZVwiKSB8fCBPYmplY3Qua2V5cyh1cGxvYWRPcHRpb25zLnRyYW5zZm9ybWF0aW9uKS5pbmNsdWRlcyhcInBvc3RcIikpKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0SW52YWxpZFJlcXVlc3RFcnJvcihlcnJvck1lc3NhZ2VzLklOVkFMSURfVFJBTlNGT1JNQVRJT04ubWVzc2FnZSkpO1xuICAgICAgfVxuICAgICAgaWYgKE9iamVjdC5rZXlzKHVwbG9hZE9wdGlvbnMudHJhbnNmb3JtYXRpb24pLmluY2x1ZGVzKFwicHJlXCIpICYmICF1cGxvYWRPcHRpb25zLnRyYW5zZm9ybWF0aW9uLnByZSkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IoZXJyb3JNZXNzYWdlcy5JTlZBTElEX1BSRV9UUkFOU0ZPUk1BVElPTi5tZXNzYWdlKSk7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LmtleXModXBsb2FkT3B0aW9ucy50cmFuc2Zvcm1hdGlvbikuaW5jbHVkZXMoXCJwb3N0XCIpKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVwbG9hZE9wdGlvbnMudHJhbnNmb3JtYXRpb24ucG9zdCkpIHtcbiAgICAgICAgICBmb3IgKGxldCB0cmFuc2Zvcm1hdGlvbiBvZiB1cGxvYWRPcHRpb25zLnRyYW5zZm9ybWF0aW9uLnBvc3QpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbi50eXBlID09PSBcImFic1wiICYmICEodHJhbnNmb3JtYXRpb24ucHJvdG9jb2wgfHwgdHJhbnNmb3JtYXRpb24udmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0SW52YWxpZFJlcXVlc3RFcnJvcihlcnJvck1lc3NhZ2VzLklOVkFMSURfUE9TVF9UUkFOU0ZPUk1BVElPTi5tZXNzYWdlKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybWF0aW9uLnR5cGUgPT09IFwidHJhbnNmb3JtYXRpb25cIiAmJiAhdHJhbnNmb3JtYXRpb24udmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgSW1hZ2VLaXRJbnZhbGlkUmVxdWVzdEVycm9yKGVycm9yTWVzc2FnZXMuSU5WQUxJRF9QT1NUX1RSQU5TRk9STUFUSU9OLm1lc3NhZ2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgSW1hZ2VLaXRJbnZhbGlkUmVxdWVzdEVycm9yKGVycm9yTWVzc2FnZXMuSU5WQUxJRF9QT1NUX1RSQU5TRk9STUFUSU9OLm1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBsZXQga2V5O1xuICAgIGZvciAoa2V5IGluIHVwbG9hZE9wdGlvbnMpIHtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJmaWxlXCIgJiYgdHlwZW9mIHVwbG9hZE9wdGlvbnMuZmlsZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgZm9ybURhdGEuc2V0KCdmaWxlJywgdXBsb2FkT3B0aW9ucy5maWxlLCBTdHJpbmcodXBsb2FkT3B0aW9ucy5maWxlTmFtZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJ0YWdzXCIgJiYgQXJyYXkuaXNBcnJheSh1cGxvYWRPcHRpb25zLnRhZ3MpKSB7XG4gICAgICAgICAgZm9ybURhdGEuc2V0KCd0YWdzJywgdXBsb2FkT3B0aW9ucy50YWdzLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzaWduYXR1cmUnKSB7XG4gICAgICAgICAgZm9ybURhdGEuc2V0KFwic2lnbmF0dXJlXCIsIHVwbG9hZE9wdGlvbnMuc2lnbmF0dXJlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdleHBpcmUnKSB7XG4gICAgICAgICAgZm9ybURhdGEuc2V0KFwiZXhwaXJlXCIsIFN0cmluZyh1cGxvYWRPcHRpb25zLmV4cGlyZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3Rva2VuJykge1xuICAgICAgICAgIGZvcm1EYXRhLnNldChcInRva2VuXCIsIHVwbG9hZE9wdGlvbnMudG9rZW4pO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJyZXNwb25zZUZpZWxkc1wiICYmIEFycmF5LmlzQXJyYXkodXBsb2FkT3B0aW9ucy5yZXNwb25zZUZpZWxkcykpIHtcbiAgICAgICAgICBmb3JtRGF0YS5zZXQoJ3Jlc3BvbnNlRmllbGRzJywgdXBsb2FkT3B0aW9ucy5yZXNwb25zZUZpZWxkcy5qb2luKFwiLFwiKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImV4dGVuc2lvbnNcIiAmJiBBcnJheS5pc0FycmF5KHVwbG9hZE9wdGlvbnMuZXh0ZW5zaW9ucykpIHtcbiAgICAgICAgICBmb3JtRGF0YS5zZXQoJ2V4dGVuc2lvbnMnLCBKU09OLnN0cmluZ2lmeSh1cGxvYWRPcHRpb25zLmV4dGVuc2lvbnMpKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwiY3VzdG9tTWV0YWRhdGFcIiAmJiB0eXBlb2YgdXBsb2FkT3B0aW9ucy5jdXN0b21NZXRhZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh1cGxvYWRPcHRpb25zLmN1c3RvbU1ldGFkYXRhKSAmJiB1cGxvYWRPcHRpb25zLmN1c3RvbU1ldGFkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgZm9ybURhdGEuc2V0KCdjdXN0b21NZXRhZGF0YScsIEpTT04uc3RyaW5naWZ5KHVwbG9hZE9wdGlvbnMuY3VzdG9tTWV0YWRhdGEpKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwidHJhbnNmb3JtYXRpb25cIiAmJiB0eXBlb2YgdXBsb2FkT3B0aW9ucy50cmFuc2Zvcm1hdGlvbiA9PT0gXCJvYmplY3RcIiAmJiB1cGxvYWRPcHRpb25zLnRyYW5zZm9ybWF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgZm9ybURhdGEuc2V0KGtleSwgSlNPTi5zdHJpbmdpZnkodXBsb2FkT3B0aW9ucy50cmFuc2Zvcm1hdGlvbikpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2NoZWNrcycgJiYgdXBsb2FkT3B0aW9ucy5jaGVja3MpIHtcbiAgICAgICAgICBmb3JtRGF0YS5zZXQoXCJjaGVja3NcIiwgdXBsb2FkT3B0aW9ucy5jaGVja3MpO1xuICAgICAgICB9IGVsc2UgaWYgKHVwbG9hZE9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKFtcIm9uUHJvZ3Jlc3NcIiwgXCJhYm9ydFNpZ25hbFwiXS5pbmNsdWRlcyhrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICBmb3JtRGF0YS5zZXQoa2V5LCBTdHJpbmcodXBsb2FkT3B0aW9uc1trZXldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwbG9hZE9wdGlvbnMub25Qcm9ncmVzcykge1xuICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh1cGxvYWRPcHRpb25zLm9uUHJvZ3Jlc3MpIHVwbG9hZE9wdGlvbnMub25Qcm9ncmVzcyhldmVudCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkFib3J0SGFuZGxlcigpIHtcbiAgICAgIHZhciBfdXBsb2FkT3B0aW9ucyRhYm9ydFM7XG4gICAgICB4aHIuYWJvcnQoKTtcbiAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0QWJvcnRFcnJvcihcIlVwbG9hZCBhYm9ydGVkXCIsIChfdXBsb2FkT3B0aW9ucyRhYm9ydFMgPSB1cGxvYWRPcHRpb25zLmFib3J0U2lnbmFsKSA9PT0gbnVsbCB8fCBfdXBsb2FkT3B0aW9ucyRhYm9ydFMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91cGxvYWRPcHRpb25zJGFib3J0Uy5yZWFzb24pKTtcbiAgICB9XG4gICAgaWYgKHVwbG9hZE9wdGlvbnMuYWJvcnRTaWduYWwpIHtcbiAgICAgIGlmICh1cGxvYWRPcHRpb25zLmFib3J0U2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdmFyIF91cGxvYWRPcHRpb25zJGFib3J0UzI7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0QWJvcnRFcnJvcihcIlVwbG9hZCBhYm9ydGVkXCIsIChfdXBsb2FkT3B0aW9ucyRhYm9ydFMyID0gdXBsb2FkT3B0aW9ucy5hYm9ydFNpZ25hbCkgPT09IG51bGwgfHwgX3VwbG9hZE9wdGlvbnMkYWJvcnRTMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3VwbG9hZE9wdGlvbnMkYWJvcnRTMi5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIHVwbG9hZE9wdGlvbnMuYWJvcnRTaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnRIYW5kbGVyKTtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCAoKSA9PiB7XG4gICAgICAgIGlmICh1cGxvYWRPcHRpb25zLmFib3J0U2lnbmFsKSB7XG4gICAgICAgICAgdXBsb2FkT3B0aW9ucy5hYm9ydFNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgeGhyLm9wZW4oJ1BPU1QnLCAnaHR0cHM6Ly91cGxvYWQuaW1hZ2VraXQuaW8vYXBpL3YxL2ZpbGVzL3VwbG9hZCcpO1xuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0VXBsb2FkTmV0d29ya0Vycm9yKGVycm9yTWVzc2FnZXMuVVBMT0FEX0VORFBPSU5UX05FVFdPUktfRVJST1IubWVzc2FnZSkpO1xuICAgIH07XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGJvZHkgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIHZhciB1cGxvYWRSZXNwb25zZSA9IGFkZFJlc3BvbnNlSGVhZGVyc0FuZEJvZHkoYm9keSwgeGhyKTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh1cGxvYWRSZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChleCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoeGhyLnN0YXR1cyA+PSA0MDAgJiYgeGhyLnN0YXR1cyA8IDUwMCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBib2R5ID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBJbWFnZUtpdEludmFsaWRSZXF1ZXN0RXJyb3IoYm9keS5tZXNzYWdlID8/IFwiSW52YWxpZCByZXF1ZXN0LiBQbGVhc2UgY2hlY2sgdGhlIHBhcmFtZXRlcnMuXCIsIGdldFJlc3BvbnNlTWV0YWRhdGEoeGhyKSkpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBib2R5ID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBJbWFnZUtpdFNlcnZlckVycm9yKGJvZHkubWVzc2FnZSA/PyBcIlNlcnZlciBlcnJvciBvY2N1cnJlZCB3aGlsZSB1cGxvYWRpbmcgdGhlIGZpbGUuIFRoaXMgaXMgcmFyZSBhbmQgdXN1YWxseSB0ZW1wb3JhcnkuXCIsIGdldFJlc3BvbnNlTWV0YWRhdGEoeGhyKSkpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEltYWdlS2l0U2VydmVyRXJyb3IoXCJTZXJ2ZXIgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBsb2FkaW5nIHRoZSBmaWxlLiBUaGlzIGlzIHJhcmUgYW5kIHVzdWFsbHkgdGVtcG9yYXJ5LlwiLCBnZXRSZXNwb25zZU1ldGFkYXRhKHhocikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgeGhyLnNlbmQoZm9ybURhdGEpO1xuICB9KTtcbn07XG5jb25zdCBhZGRSZXNwb25zZUhlYWRlcnNBbmRCb2R5ID0gKGJvZHksIHhocikgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgLi4uYm9keVxuICB9O1xuICBjb25zdCByZXNwb25zZU1ldGFkYXRhID0gZ2V0UmVzcG9uc2VNZXRhZGF0YSh4aHIpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzcG9uc2UsIFwiJFJlc3BvbnNlTWV0YWRhdGFcIiwge1xuICAgIHZhbHVlOiByZXNwb25zZU1ldGFkYXRhLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGdldFJlc3BvbnNlTWV0YWRhdGEgPSB4aHIgPT4ge1xuICBjb25zdCBoZWFkZXJzID0gZ2V0UmVzcG9uc2VIZWFkZXJNYXAoeGhyKTtcbiAgY29uc3QgcmVzcG9uc2VNZXRhZGF0YSA9IHtcbiAgICBzdGF0dXNDb2RlOiB4aHIuc3RhdHVzLFxuICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgcmVxdWVzdElkOiBoZWFkZXJzW1wieC1yZXF1ZXN0LWlkXCJdXG4gIH07XG4gIHJldHVybiByZXNwb25zZU1ldGFkYXRhO1xufTtcbmZ1bmN0aW9uIGdldFJlc3BvbnNlSGVhZGVyTWFwKHhocikge1xuICBjb25zdCBoZWFkZXJzID0ge307XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcbiAgaWYgKE9iamVjdC5rZXlzKHJlc3BvbnNlSGVhZGVycykubGVuZ3RoKSB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLnRyaW0oKS5zcGxpdCgvW1xcclxcbl0rLykubWFwKHZhbHVlID0+IHZhbHVlLnNwbGl0KC86IC8pKS5mb3JFYWNoKGtleVZhbHVlID0+IHtcbiAgICAgIGhlYWRlcnNba2V5VmFsdWVbMF0udHJpbSgpLnRvTG93ZXJDYXNlKCldID0ga2V5VmFsdWVbMV0udHJpbSgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBoZWFkZXJzO1xufVxuXG5jb25zdCBzdXBwb3J0ZWRUcmFuc2Zvcm1zID0ge1xuICB3aWR0aDogXCJ3XCIsXG4gIGhlaWdodDogXCJoXCIsXG4gIGFzcGVjdFJhdGlvOiBcImFyXCIsXG4gIGJhY2tncm91bmQ6IFwiYmdcIixcbiAgYm9yZGVyOiBcImJcIixcbiAgY3JvcDogXCJjXCIsXG4gIGNyb3BNb2RlOiBcImNtXCIsXG4gIGRwcjogXCJkcHJcIixcbiAgZm9jdXM6IFwiZm9cIixcbiAgcXVhbGl0eTogXCJxXCIsXG4gIHg6IFwieFwiLFxuICB4Q2VudGVyOiBcInhjXCIsXG4gIHk6IFwieVwiLFxuICB5Q2VudGVyOiBcInljXCIsXG4gIGZvcm1hdDogXCJmXCIsXG4gIHZpZGVvQ29kZWM6IFwidmNcIixcbiAgYXVkaW9Db2RlYzogXCJhY1wiLFxuICByYWRpdXM6IFwiclwiLFxuICByb3RhdGlvbjogXCJydFwiLFxuICBibHVyOiBcImJsXCIsXG4gIG5hbWVkOiBcIm5cIixcbiAgZGVmYXVsdEltYWdlOiBcImRpXCIsXG4gIGZsaXA6IFwiZmxcIixcbiAgb3JpZ2luYWw6IFwib3JpZ1wiLFxuICBzdGFydE9mZnNldDogXCJzb1wiLFxuICBlbmRPZmZzZXQ6IFwiZW9cIixcbiAgZHVyYXRpb246IFwiZHVcIixcbiAgc3RyZWFtaW5nUmVzb2x1dGlvbnM6IFwic3JcIixcbiAgZ3JheXNjYWxlOiBcImUtZ3JheXNjYWxlXCIsXG4gIGFpVXBzY2FsZTogXCJlLXVwc2NhbGVcIixcbiAgYWlSZXRvdWNoOiBcImUtcmV0b3VjaFwiLFxuICBhaVZhcmlhdGlvbjogXCJlLWdlbnZhclwiLFxuICBhaURyb3BTaGFkb3c6IFwiZS1kcm9wc2hhZG93XCIsXG4gIGFpQ2hhbmdlQmFja2dyb3VuZDogXCJlLWNoYW5nZWJnXCIsXG4gIGFpUmVtb3ZlQmFja2dyb3VuZDogXCJlLWJncmVtb3ZlXCIsXG4gIGFpUmVtb3ZlQmFja2dyb3VuZEV4dGVybmFsOiBcImUtcmVtb3ZlZG90YmdcIixcbiAgY29udHJhc3RTdHJldGNoOiBcImUtY29udHJhc3RcIixcbiAgc2hhZG93OiBcImUtc2hhZG93XCIsXG4gIHNoYXJwZW46IFwiZS1zaGFycGVuXCIsXG4gIHVuc2hhcnBNYXNrOiBcImUtdXNtXCIsXG4gIGdyYWRpZW50OiBcImUtZ3JhZGllbnRcIixcbiAgcHJvZ3Jlc3NpdmU6IFwicHJcIixcbiAgbG9zc2xlc3M6IFwibG9cIixcbiAgY29sb3JQcm9maWxlOiBcImNwXCIsXG4gIG1ldGFkYXRhOiBcIm1kXCIsXG4gIG9wYWNpdHk6IFwib1wiLFxuICB0cmltOiBcInRcIixcbiAgem9vbTogXCJ6XCIsXG4gIHBhZ2U6IFwicGdcIixcbiAgZm9udFNpemU6IFwiZnNcIixcbiAgZm9udEZhbWlseTogXCJmZlwiLFxuICBmb250Q29sb3I6IFwiY29cIixcbiAgaW5uZXJBbGlnbm1lbnQ6IFwiaWFcIixcbiAgcGFkZGluZzogXCJwYVwiLFxuICBhbHBoYTogXCJhbFwiLFxuICB0eXBvZ3JhcGh5OiBcInRnXCIsXG4gIGxpbmVIZWlnaHQ6IFwibGhcIixcbiAgZm9udE91dGxpbmU6IFwiZm9sXCIsXG4gIGZvbnRTaGFkb3c6IFwiZnNoXCIsXG4gIHJhdzogXCJyYXdcIlxufTtcblxuY29uc3QgUVVFUllfVFJBTlNGT1JNQVRJT05fUE9TSVRJT04gPSBcInF1ZXJ5XCI7XG5jb25zdCBDSEFJTl9UUkFOU0ZPUk1fREVMSU1JVEVSID0gXCI6XCI7XG5jb25zdCBUUkFOU0ZPUk1fREVMSU1JVEVSID0gXCIsXCI7XG5jb25zdCBUUkFOU0ZPUk1fS0VZX1ZBTFVFX0RFTElNSVRFUiA9IFwiLVwiO1xudmFyIHRyYW5zZm9ybWF0aW9uVXRpbHMgPSB7XG4gIGFkZEFzUXVlcnlQYXJhbWV0ZXI6IG9wdGlvbnMgPT4ge1xuICAgIHJldHVybiBvcHRpb25zLnRyYW5zZm9ybWF0aW9uUG9zaXRpb24gPT09IFFVRVJZX1RSQU5TRk9STUFUSU9OX1BPU0lUSU9OO1xuICB9LFxuICBnZXRUcmFuc2Zvcm1LZXk6IGZ1bmN0aW9uICh0cmFuc2Zvcm0pIHtcbiAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWRUcmFuc2Zvcm1zW3RyYW5zZm9ybV0gfHwgc3VwcG9ydGVkVHJhbnNmb3Jtc1t0cmFuc2Zvcm0udG9Mb3dlckNhc2UoKV0gfHwgXCJcIjtcbiAgfSxcbiAgZ2V0Q2hhaW5UcmFuc2Zvcm1EZWxpbWl0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gQ0hBSU5fVFJBTlNGT1JNX0RFTElNSVRFUjtcbiAgfSxcbiAgZ2V0VHJhbnNmb3JtRGVsaW1pdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRSQU5TRk9STV9ERUxJTUlURVI7XG4gIH0sXG4gIGdldFRyYW5zZm9ybUtleVZhbHVlRGVsaW1pdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRSQU5TRk9STV9LRVlfVkFMVUVfREVMSU1JVEVSO1xuICB9XG59O1xuY29uc3Qgc2FmZUJ0b2EgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGJ0b2Eoc3RyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyLCBcInV0ZjhcIikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIH1cbn07XG5cbmNvbnN0IFRSQU5TRk9STUFUSU9OX1BBUkFNRVRFUiA9IFwidHJcIjtcbmNvbnN0IFNJTVBMRV9PVkVSTEFZX1BBVEhfUkVHRVggPSBuZXcgUmVnRXhwKCdeW2EtekEtWjAtOS0uXy8gXSokJyk7XG5jb25zdCBTSU1QTEVfT1ZFUkxBWV9URVhUX1JFR0VYID0gbmV3IFJlZ0V4cCgnXlthLXpBLVowLTktLl8gXSokJyk7XG5mdW5jdGlvbiByZW1vdmVUcmFpbGluZ1NsYXNoKHN0cikge1xuICBpZiAodHlwZW9mIHN0ciA9PSBcInN0cmluZ1wiICYmIHN0cltzdHIubGVuZ3RoIC0gMV0gPT0gXCIvXCIpIHtcbiAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufVxuZnVuY3Rpb24gcmVtb3ZlTGVhZGluZ1NsYXNoKHN0cikge1xuICBpZiAodHlwZW9mIHN0ciA9PSBcInN0cmluZ1wiICYmIHN0clswXSA9PSBcIi9cIikge1xuICAgIHN0ciA9IHN0ci5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufVxuZnVuY3Rpb24gcGF0aEpvaW4ocGFydHMsIHNlcCkge1xuICB2YXIgc2VwYXJhdG9yID0gc2VwIHx8IFwiL1wiO1xuICB2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoc2VwYXJhdG9yICsgXCJ7MSx9XCIsIFwiZ1wiKTtcbiAgcmV0dXJuIHBhcnRzLmpvaW4oc2VwYXJhdG9yKS5yZXBsYWNlKHJlcGxhY2UsIHNlcGFyYXRvcik7XG59XG5jb25zdCBidWlsZFNyYyA9IG9wdHMgPT4ge1xuICBvcHRzLnVybEVuZHBvaW50ID0gb3B0cy51cmxFbmRwb2ludCB8fCBcIlwiO1xuICBvcHRzLnNyYyA9IG9wdHMuc3JjIHx8IFwiXCI7XG4gIG9wdHMudHJhbnNmb3JtYXRpb25Qb3NpdGlvbiA9IG9wdHMudHJhbnNmb3JtYXRpb25Qb3NpdGlvbiB8fCBcInF1ZXJ5XCI7XG4gIGlmICghb3B0cy5zcmMpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCBpc0Fic29sdXRlVVJMID0gb3B0cy5zcmMuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgfHwgb3B0cy5zcmMuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpO1xuICB2YXIgdXJsT2JqLCBpc1NyY1BhcmFtZXRlclVzZWRGb3JVUkwsIHVybEVuZHBvaW50UGF0dGVybjtcbiAgdHJ5IHtcbiAgICBpZiAoIWlzQWJzb2x1dGVVUkwpIHtcbiAgICAgIHVybEVuZHBvaW50UGF0dGVybiA9IG5ldyBVUkwob3B0cy51cmxFbmRwb2ludCkucGF0aG5hbWU7XG4gICAgICB1cmxPYmogPSBuZXcgVVJMKHBhdGhKb2luKFtvcHRzLnVybEVuZHBvaW50LnJlcGxhY2UodXJsRW5kcG9pbnRQYXR0ZXJuLCBcIlwiKSwgb3B0cy5zcmNdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybE9iaiA9IG5ldyBVUkwob3B0cy5zcmMpO1xuICAgICAgaXNTcmNQYXJhbWV0ZXJVc2VkRm9yVVJMID0gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGZvciAodmFyIGkgaW4gb3B0cy5xdWVyeVBhcmFtZXRlcnMpIHtcbiAgICB1cmxPYmouc2VhcmNoUGFyYW1zLmFwcGVuZChpLCBTdHJpbmcob3B0cy5xdWVyeVBhcmFtZXRlcnNbaV0pKTtcbiAgfVxuICB2YXIgdHJhbnNmb3JtYXRpb25TdHJpbmcgPSBidWlsZFRyYW5zZm9ybWF0aW9uU3RyaW5nKG9wdHMudHJhbnNmb3JtYXRpb24pO1xuICBpZiAodHJhbnNmb3JtYXRpb25TdHJpbmcgJiYgdHJhbnNmb3JtYXRpb25TdHJpbmcubGVuZ3RoKSB7XG4gICAgaWYgKCF0cmFuc2Zvcm1hdGlvblV0aWxzLmFkZEFzUXVlcnlQYXJhbWV0ZXIob3B0cykgJiYgIWlzU3JjUGFyYW1ldGVyVXNlZEZvclVSTCkge1xuICAgICAgdXJsT2JqLnBhdGhuYW1lID0gcGF0aEpvaW4oW1RSQU5TRk9STUFUSU9OX1BBUkFNRVRFUiArIHRyYW5zZm9ybWF0aW9uVXRpbHMuZ2V0Q2hhaW5UcmFuc2Zvcm1EZWxpbWl0ZXIoKSArIHRyYW5zZm9ybWF0aW9uU3RyaW5nLCB1cmxPYmoucGF0aG5hbWVdKTtcbiAgICB9XG4gIH1cbiAgaWYgKHVybEVuZHBvaW50UGF0dGVybikge1xuICAgIHVybE9iai5wYXRobmFtZSA9IHBhdGhKb2luKFt1cmxFbmRwb2ludFBhdHRlcm4sIHVybE9iai5wYXRobmFtZV0pO1xuICB9IGVsc2Uge1xuICAgIHVybE9iai5wYXRobmFtZSA9IHBhdGhKb2luKFt1cmxPYmoucGF0aG5hbWVdKTtcbiAgfVxuICBpZiAodHJhbnNmb3JtYXRpb25TdHJpbmcgJiYgdHJhbnNmb3JtYXRpb25TdHJpbmcubGVuZ3RoKSB7XG4gICAgaWYgKHRyYW5zZm9ybWF0aW9uVXRpbHMuYWRkQXNRdWVyeVBhcmFtZXRlcihvcHRzKSB8fCBpc1NyY1BhcmFtZXRlclVzZWRGb3JVUkwpIHtcbiAgICAgIGlmICh1cmxPYmouc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCkgIT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIGAke3VybE9iai5ocmVmfSYke1RSQU5TRk9STUFUSU9OX1BBUkFNRVRFUn09JHt0cmFuc2Zvcm1hdGlvblN0cmluZ31gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke3VybE9iai5ocmVmfT8ke1RSQU5TRk9STUFUSU9OX1BBUkFNRVRFUn09JHt0cmFuc2Zvcm1hdGlvblN0cmluZ31gO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdXJsT2JqLmhyZWY7XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0lucHV0UGF0aChzdHIsIGVuY2NvZGluZykge1xuICBzdHIgPSByZW1vdmVUcmFpbGluZ1NsYXNoKHJlbW92ZUxlYWRpbmdTbGFzaChzdHIpKTtcbiAgaWYgKGVuY2NvZGluZyA9PT0gXCJwbGFpblwiKSB7XG4gICAgcmV0dXJuIGBpLSR7c3RyLnJlcGxhY2UoL1xcLy9nLCBcIkBAXCIpfWA7XG4gIH1cbiAgaWYgKGVuY2NvZGluZyA9PT0gXCJiYXNlNjRcIikge1xuICAgIHJldHVybiBgaWUtJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZUJ0b2Eoc3RyKSl9YDtcbiAgfVxuICBpZiAoU0lNUExFX09WRVJMQVlfUEFUSF9SRUdFWC50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gYGktJHtzdHIucmVwbGFjZSgvXFwvL2csIFwiQEBcIil9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYGllLSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNhZmVCdG9hKHN0cikpfWA7XG4gIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3NUZXh0KHN0ciwgZW5jY29kaW5nKSB7XG4gIGlmIChlbmNjb2RpbmcgPT09IFwicGxhaW5cIikge1xuICAgIHJldHVybiBgaS0ke2VuY29kZVVSSUNvbXBvbmVudChzdHIpfWA7XG4gIH1cbiAgaWYgKGVuY2NvZGluZyA9PT0gXCJiYXNlNjRcIikge1xuICAgIHJldHVybiBgaWUtJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZUJ0b2Eoc3RyKSl9YDtcbiAgfVxuICBpZiAoU0lNUExFX09WRVJMQVlfVEVYVF9SRUdFWC50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gYGktJHtlbmNvZGVVUklDb21wb25lbnQoc3RyKX1gO1xuICB9XG4gIHJldHVybiBgaWUtJHtlbmNvZGVVUklDb21wb25lbnQoc2FmZUJ0b2Eoc3RyKSl9YDtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NPdmVybGF5KG92ZXJsYXkpIHtcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBjb25zdCB7XG4gICAgdHlwZSxcbiAgICBwb3NpdGlvbiA9IHt9LFxuICAgIHRpbWluZyA9IHt9LFxuICAgIHRyYW5zZm9ybWF0aW9uID0gW11cbiAgfSA9IG92ZXJsYXkgfHwge307XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwidGV4dFwiOlxuICAgICAge1xuICAgICAgICBjb25zdCB0ZXh0T3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIGlmICghdGV4dE92ZXJsYXkudGV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNjb2RpbmcgPSB0ZXh0T3ZlcmxheS5lbmNvZGluZyB8fCBcImF1dG9cIjtcbiAgICAgICAgZW50cmllcy5wdXNoKFwibC10ZXh0XCIpO1xuICAgICAgICBlbnRyaWVzLnB1c2gocHJvY2Vzc1RleHQodGV4dE92ZXJsYXkudGV4dCwgZW5jY29kaW5nKSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgIGVudHJpZXMucHVzaChcImwtaW1hZ2VcIik7XG4gICAgICB7XG4gICAgICAgIGNvbnN0IGltYWdlT3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIGNvbnN0IGVuY2NvZGluZyA9IGltYWdlT3ZlcmxheS5lbmNvZGluZyB8fCBcImF1dG9cIjtcbiAgICAgICAgaWYgKGltYWdlT3ZlcmxheS5pbnB1dCkge1xuICAgICAgICAgIGVudHJpZXMucHVzaChwcm9jZXNzSW5wdXRQYXRoKGltYWdlT3ZlcmxheS5pbnB1dCwgZW5jY29kaW5nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgIGVudHJpZXMucHVzaChcImwtdmlkZW9cIik7XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHZpZGVvT3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIGNvbnN0IGVuY2NvZGluZyA9IHZpZGVvT3ZlcmxheS5lbmNvZGluZyB8fCBcImF1dG9cIjtcbiAgICAgICAgaWYgKHZpZGVvT3ZlcmxheS5pbnB1dCkge1xuICAgICAgICAgIGVudHJpZXMucHVzaChwcm9jZXNzSW5wdXRQYXRoKHZpZGVvT3ZlcmxheS5pbnB1dCwgZW5jY29kaW5nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic3VidGl0bGVcIjpcbiAgICAgIGVudHJpZXMucHVzaChcImwtc3VidGl0bGVcIik7XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHN1YnRpdGxlT3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIGNvbnN0IGVuY2NvZGluZyA9IHN1YnRpdGxlT3ZlcmxheS5lbmNvZGluZyB8fCBcImF1dG9cIjtcbiAgICAgICAgaWYgKHN1YnRpdGxlT3ZlcmxheS5pbnB1dCkge1xuICAgICAgICAgIGVudHJpZXMucHVzaChwcm9jZXNzSW5wdXRQYXRoKHN1YnRpdGxlT3ZlcmxheS5pbnB1dCwgZW5jY29kaW5nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic29saWRDb2xvclwiOlxuICAgICAgZW50cmllcy5wdXNoKFwibC1pbWFnZVwiKTtcbiAgICAgIGVudHJpZXMucHVzaChgaS1pa19jYW52YXNgKTtcbiAgICAgIHtcbiAgICAgICAgY29uc3Qgc29saWRDb2xvck92ZXJsYXkgPSBvdmVybGF5O1xuICAgICAgICBpZiAoc29saWRDb2xvck92ZXJsYXkuY29sb3IpIHtcbiAgICAgICAgICBlbnRyaWVzLnB1c2goYGJnLSR7c29saWRDb2xvck92ZXJsYXkuY29sb3J9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIGZvY3VzXG4gIH0gPSBwb3NpdGlvbjtcbiAgaWYgKHgpIHtcbiAgICBlbnRyaWVzLnB1c2goYGx4LSR7eH1gKTtcbiAgfVxuICBpZiAoeSkge1xuICAgIGVudHJpZXMucHVzaChgbHktJHt5fWApO1xuICB9XG4gIGlmIChmb2N1cykge1xuICAgIGVudHJpZXMucHVzaChgbGZvLSR7Zm9jdXN9YCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHN0YXJ0LFxuICAgIGVuZCxcbiAgICBkdXJhdGlvblxuICB9ID0gdGltaW5nO1xuICBpZiAoc3RhcnQpIHtcbiAgICBlbnRyaWVzLnB1c2goYGxzby0ke3N0YXJ0fWApO1xuICB9XG4gIGlmIChlbmQpIHtcbiAgICBlbnRyaWVzLnB1c2goYGxlby0ke2VuZH1gKTtcbiAgfVxuICBpZiAoZHVyYXRpb24pIHtcbiAgICBlbnRyaWVzLnB1c2goYGxkdS0ke2R1cmF0aW9ufWApO1xuICB9XG4gIGNvbnN0IHRyYW5zZm9ybWF0aW9uU3RyaW5nID0gYnVpbGRUcmFuc2Zvcm1hdGlvblN0cmluZyh0cmFuc2Zvcm1hdGlvbik7XG4gIGlmICh0cmFuc2Zvcm1hdGlvblN0cmluZyAmJiB0cmFuc2Zvcm1hdGlvblN0cmluZy50cmltKCkgIT09IFwiXCIpIGVudHJpZXMucHVzaCh0cmFuc2Zvcm1hdGlvblN0cmluZyk7XG4gIGVudHJpZXMucHVzaChcImwtZW5kXCIpO1xuICByZXR1cm4gZW50cmllcy5qb2luKHRyYW5zZm9ybWF0aW9uVXRpbHMuZ2V0VHJhbnNmb3JtRGVsaW1pdGVyKCkpO1xufVxuY29uc3QgYnVpbGRUcmFuc2Zvcm1hdGlvblN0cmluZyA9IGZ1bmN0aW9uICh0cmFuc2Zvcm1hdGlvbikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodHJhbnNmb3JtYXRpb24pKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgdmFyIHBhcnNlZFRyYW5zZm9ybXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB0cmFuc2Zvcm1hdGlvbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgcGFyc2VkVHJhbnNmb3JtU3RlcCA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiB0cmFuc2Zvcm1hdGlvbltpXSkge1xuICAgICAgbGV0IHZhbHVlID0gdHJhbnNmb3JtYXRpb25baV1ba2V5XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJvdmVybGF5XCIgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHZhciByYXdTdHJpbmcgPSBwcm9jZXNzT3ZlcmxheSh2YWx1ZSk7XG4gICAgICAgIGlmIChyYXdTdHJpbmcgJiYgcmF3U3RyaW5nLnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgIHBhcnNlZFRyYW5zZm9ybVN0ZXAucHVzaChyYXdTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHRyYW5zZm9ybUtleSA9IHRyYW5zZm9ybWF0aW9uVXRpbHMuZ2V0VHJhbnNmb3JtS2V5KGtleSk7XG4gICAgICBpZiAoIXRyYW5zZm9ybUtleSkge1xuICAgICAgICB0cmFuc2Zvcm1LZXkgPSBrZXk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtS2V5ID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFtcImUtZ3JheXNjYWxlXCIsIFwiZS1jb250cmFzdFwiLCBcImUtcmVtb3ZlZG90YmdcIiwgXCJlLWJncmVtb3ZlXCIsIFwiZS11cHNjYWxlXCIsIFwiZS1yZXRvdWNoXCIsIFwiZS1nZW52YXJcIl0uaW5jbHVkZXModHJhbnNmb3JtS2V5KSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IFwiLVwiIHx8IHZhbHVlID09PSBcInRydWVcIikge1xuICAgICAgICAgIHBhcnNlZFRyYW5zZm9ybVN0ZXAucHVzaCh0cmFuc2Zvcm1LZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFtcImUtc2hhcnBlblwiLCBcImUtc2hhZG93XCIsIFwiZS1ncmFkaWVudFwiLCBcImUtdXNtXCIsIFwiZS1kcm9wc2hhZG93XCJdLmluY2x1ZGVzKHRyYW5zZm9ybUtleSkgJiYgKHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpID09PSBcIlwiIHx8IHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBcInRydWVcIikpIHtcbiAgICAgICAgcGFyc2VkVHJhbnNmb3JtU3RlcC5wdXNoKHRyYW5zZm9ybUtleSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJyYXdcIikge1xuICAgICAgICBwYXJzZWRUcmFuc2Zvcm1TdGVwLnB1c2godHJhbnNmb3JtYXRpb25baV1ba2V5XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHJhbnNmb3JtS2V5ID09PSBcImRpXCIpIHtcbiAgICAgICAgICB2YWx1ZSA9IHJlbW92ZVRyYWlsaW5nU2xhc2gocmVtb3ZlTGVhZGluZ1NsYXNoKHZhbHVlIHx8IFwiXCIpKTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcLy9nLCBcIkBAXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2Zvcm1LZXkgPT09IFwic3JcIiAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuam9pbihcIl9cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYW5zZm9ybUtleSA9PT0gXCJ0XCIgJiYgdmFsdWUudG9TdHJpbmcoKS50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgICB2YWx1ZSA9IFwidHJ1ZVwiO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZFRyYW5zZm9ybVN0ZXAucHVzaChbdHJhbnNmb3JtS2V5LCB2YWx1ZV0uam9pbih0cmFuc2Zvcm1hdGlvblV0aWxzLmdldFRyYW5zZm9ybUtleVZhbHVlRGVsaW1pdGVyKCkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcnNlZFRyYW5zZm9ybVN0ZXAubGVuZ3RoKSB7XG4gICAgICBwYXJzZWRUcmFuc2Zvcm1zLnB1c2gocGFyc2VkVHJhbnNmb3JtU3RlcC5qb2luKHRyYW5zZm9ybWF0aW9uVXRpbHMuZ2V0VHJhbnNmb3JtRGVsaW1pdGVyKCkpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZFRyYW5zZm9ybXMuam9pbih0cmFuc2Zvcm1hdGlvblV0aWxzLmdldENoYWluVHJhbnNmb3JtRGVsaW1pdGVyKCkpO1xufTtcblxuY29uc3QgREVGQVVMVF9ERVZJQ0VfQlJFQUtQT0lOVFMgPSBbNjQwLCA3NTAsIDgyOCwgMTA4MCwgMTIwMCwgMTkyMCwgMjA0OCwgMzg0MF07XG5jb25zdCBERUZBVUxUX0lNQUdFX0JSRUFLUE9JTlRTID0gWzE2LCAzMiwgNDgsIDY0LCA5NiwgMTI4LCAyNTYsIDM4NF07XG5mdW5jdGlvbiBnZXRSZXNwb25zaXZlSW1hZ2VBdHRyaWJ1dGVzKG9wdHMpIHtcbiAgY29uc3Qge1xuICAgIHNyYyxcbiAgICB1cmxFbmRwb2ludCxcbiAgICB0cmFuc2Zvcm1hdGlvbiA9IFtdLFxuICAgIHF1ZXJ5UGFyYW1ldGVycyxcbiAgICB0cmFuc2Zvcm1hdGlvblBvc2l0aW9uLFxuICAgIHNpemVzLFxuICAgIHdpZHRoLFxuICAgIGRldmljZUJyZWFrcG9pbnRzID0gREVGQVVMVF9ERVZJQ0VfQlJFQUtQT0lOVFMsXG4gICAgaW1hZ2VCcmVha3BvaW50cyA9IERFRkFVTFRfSU1BR0VfQlJFQUtQT0lOVFNcbiAgfSA9IG9wdHM7XG4gIGNvbnN0IHNvcnRlZERldmljZUJyZWFrcG9pbnRzID0gWy4uLmRldmljZUJyZWFrcG9pbnRzXS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIGNvbnN0IHNvcnRlZEltYWdlQnJlYWtwb2ludHMgPSBbLi4uaW1hZ2VCcmVha3BvaW50c10uc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICBjb25zdCBhbGxCcmVha3BvaW50cyA9IFsuLi5zb3J0ZWRJbWFnZUJyZWFrcG9pbnRzLCAuLi5zb3J0ZWREZXZpY2VCcmVha3BvaW50c10uc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICBjb25zdCB7XG4gICAgY2FuZGlkYXRlcyxcbiAgICBkZXNjcmlwdG9yS2luZFxuICB9ID0gY29tcHV0ZUNhbmRpZGF0ZVdpZHRocyh7XG4gICAgYWxsQnJlYWtwb2ludHMsXG4gICAgZGV2aWNlQnJlYWtwb2ludHM6IHNvcnRlZERldmljZUJyZWFrcG9pbnRzLFxuICAgIGV4cGxpY2l0V2lkdGg6IHdpZHRoLFxuICAgIHNpemVzQXR0cjogc2l6ZXNcbiAgfSk7XG4gIGNvbnN0IGJ1aWxkVVJMID0gdyA9PiBidWlsZFNyYyh7XG4gICAgc3JjLFxuICAgIHVybEVuZHBvaW50LFxuICAgIHF1ZXJ5UGFyYW1ldGVycyxcbiAgICB0cmFuc2Zvcm1hdGlvblBvc2l0aW9uLFxuICAgIHRyYW5zZm9ybWF0aW9uOiBbLi4udHJhbnNmb3JtYXRpb24sIHtcbiAgICAgIHdpZHRoOiB3LFxuICAgICAgY3JvcDogJ2F0X21heCdcbiAgICB9XG4gICAgXVxuICB9KTtcbiAgY29uc3Qgc3JjU2V0ID0gY2FuZGlkYXRlcy5tYXAoKHcsIGkpID0+IGAke2J1aWxkVVJMKHcpfSAke2Rlc2NyaXB0b3JLaW5kID09PSAndycgPyB3IDogaSArIDF9JHtkZXNjcmlwdG9yS2luZH1gKS5qb2luKCcsICcpIHx8IHVuZGVmaW5lZDtcbiAgY29uc3QgZmluYWxTaXplcyA9IHNpemVzID8/IChkZXNjcmlwdG9yS2luZCA9PT0gJ3cnID8gJzEwMHZ3JyA6IHVuZGVmaW5lZCk7XG4gIHJldHVybiB7XG4gICAgc3JjOiBidWlsZFVSTChjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMV0pLFxuICAgIHNyY1NldCxcbiAgICAuLi4oZmluYWxTaXplcyA/IHtcbiAgICAgIHNpemVzOiBmaW5hbFNpemVzXG4gICAgfSA6IHt9KSxcbiAgICAuLi4od2lkdGggIT09IHVuZGVmaW5lZCA/IHtcbiAgICAgIHdpZHRoXG4gICAgfSA6IHt9KVxuICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUNhbmRpZGF0ZVdpZHRocyhwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIGFsbEJyZWFrcG9pbnRzLFxuICAgIGRldmljZUJyZWFrcG9pbnRzLFxuICAgIGV4cGxpY2l0V2lkdGgsXG4gICAgc2l6ZXNBdHRyXG4gIH0gPSBwYXJhbXM7XG4gIGlmIChzaXplc0F0dHIpIHtcbiAgICBjb25zdCB2d1Rva2VucyA9IHNpemVzQXR0ci5tYXRjaCgvKF58XFxzKSgxP1xcZHsxLDJ9KXZ3L2cpIHx8IFtdO1xuICAgIGNvbnN0IHZ3UGVyY2VudHMgPSB2d1Rva2Vucy5tYXAodCA9PiBwYXJzZUludCh0LCAxMCkpO1xuICAgIGlmICh2d1BlcmNlbnRzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc21hbGxlc3RSYXRpbyA9IE1hdGgubWluKC4uLnZ3UGVyY2VudHMpIC8gMTAwO1xuICAgICAgY29uc3QgbWluUmVxdWlyZWRQeCA9IGRldmljZUJyZWFrcG9pbnRzWzBdICogc21hbGxlc3RSYXRpbztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhbmRpZGF0ZXM6IGFsbEJyZWFrcG9pbnRzLmZpbHRlcih3ID0+IHcgPj0gbWluUmVxdWlyZWRQeCksXG4gICAgICAgIGRlc2NyaXB0b3JLaW5kOiAndydcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBjYW5kaWRhdGVzOiBhbGxCcmVha3BvaW50cyxcbiAgICAgIGRlc2NyaXB0b3JLaW5kOiAndydcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgZXhwbGljaXRXaWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FuZGlkYXRlczogZGV2aWNlQnJlYWtwb2ludHMsXG4gICAgICBkZXNjcmlwdG9yS2luZDogJ3cnXG4gICAgfTtcbiAgfVxuICBjb25zdCBuZWFyZXN0ID0gdCA9PiBhbGxCcmVha3BvaW50cy5maW5kKG4gPT4gbiA+PSB0KSB8fCBhbGxCcmVha3BvaW50c1thbGxCcmVha3BvaW50cy5sZW5ndGggLSAxXTtcbiAgY29uc3QgdW5pcXVlID0gQXJyYXkuZnJvbShuZXcgU2V0KFtuZWFyZXN0KGV4cGxpY2l0V2lkdGgpLCBuZWFyZXN0KGV4cGxpY2l0V2lkdGggKiAyKV0pKTtcbiAgcmV0dXJuIHtcbiAgICBjYW5kaWRhdGVzOiB1bmlxdWUsXG4gICAgZGVzY3JpcHRvcktpbmQ6ICd4J1xuICB9O1xufVxuXG5leHBvcnQgeyBJbWFnZUtpdEFib3J0RXJyb3IsIEltYWdlS2l0SW52YWxpZFJlcXVlc3RFcnJvciwgSW1hZ2VLaXRTZXJ2ZXJFcnJvciwgSW1hZ2VLaXRVcGxvYWROZXR3b3JrRXJyb3IsIGJ1aWxkU3JjLCBidWlsZFRyYW5zZm9ybWF0aW9uU3RyaW5nLCBnZXRSZXNwb25zaXZlSW1hZ2VBdHRyaWJ1dGVzLCB1cGxvYWQgfTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xyXG4gICAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XHJcbiAgICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xyXG4gICAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XHJcbiAgICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcclxuICAgIHZhciBfLCBkb25lID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIHZhciBjb250ZXh0ID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XHJcbiAgICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcclxuICAgICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcclxuICAgICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcclxuICAgICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcclxuICAgICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xyXG4gICAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xyXG4gICAgZG9uZSA9IHRydWU7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xyXG4gICAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XHJcbiAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XHJcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiBhd2FpdFJldHVybihmKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZiwgcmVqZWN0KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xyXG4gICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcclxuICAgICAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XHJcbiAgICAgICAgaWYgKGFzeW5jKSB7XHJcbiAgICAgICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgICAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcclxuICAgICAgICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcclxuICAgICAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcclxuICAgICAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYXN5bmMpIHtcclxuICAgICAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG5cclxufVxyXG5cclxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcclxuICAgIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XHJcbiAgICBmdW5jdGlvbiBmYWlsKGUpIHtcclxuICAgICAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XHJcbiAgICAgICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgd2hpbGUgKGVudi5zdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIF9fZXh0ZW5kczogX19leHRlbmRzLFxyXG4gICAgX19hc3NpZ246IF9fYXNzaWduLFxyXG4gICAgX19yZXN0OiBfX3Jlc3QsXHJcbiAgICBfX2RlY29yYXRlOiBfX2RlY29yYXRlLFxyXG4gICAgX19wYXJhbTogX19wYXJhbSxcclxuICAgIF9fbWV0YWRhdGE6IF9fbWV0YWRhdGEsXHJcbiAgICBfX2F3YWl0ZXI6IF9fYXdhaXRlcixcclxuICAgIF9fZ2VuZXJhdG9yOiBfX2dlbmVyYXRvcixcclxuICAgIF9fY3JlYXRlQmluZGluZzogX19jcmVhdGVCaW5kaW5nLFxyXG4gICAgX19leHBvcnRTdGFyOiBfX2V4cG9ydFN0YXIsXHJcbiAgICBfX3ZhbHVlczogX192YWx1ZXMsXHJcbiAgICBfX3JlYWQ6IF9fcmVhZCxcclxuICAgIF9fc3ByZWFkOiBfX3NwcmVhZCxcclxuICAgIF9fc3ByZWFkQXJyYXlzOiBfX3NwcmVhZEFycmF5cyxcclxuICAgIF9fc3ByZWFkQXJyYXk6IF9fc3ByZWFkQXJyYXksXHJcbiAgICBfX2F3YWl0OiBfX2F3YWl0LFxyXG4gICAgX19hc3luY0dlbmVyYXRvcjogX19hc3luY0dlbmVyYXRvcixcclxuICAgIF9fYXN5bmNEZWxlZ2F0b3I6IF9fYXN5bmNEZWxlZ2F0b3IsXHJcbiAgICBfX2FzeW5jVmFsdWVzOiBfX2FzeW5jVmFsdWVzLFxyXG4gICAgX19tYWtlVGVtcGxhdGVPYmplY3Q6IF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxyXG4gICAgX19pbXBvcnRTdGFyOiBfX2ltcG9ydFN0YXIsXHJcbiAgICBfX2ltcG9ydERlZmF1bHQ6IF9faW1wb3J0RGVmYXVsdCxcclxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXHJcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxyXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEluOiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXHJcbiAgICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZTogX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXHJcbiAgICBfX2Rpc3Bvc2VSZXNvdXJjZXM6IF9fZGlzcG9zZVJlc291cmNlcyxcclxufTtcclxuIl0sIm5hbWVzIjpbIkltYWdlS2l0Q29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJJbWFnZUtpdFByb3ZpZGVyIiwicHJvcHMiLCJ1cmxFbmRwb2ludCIsInRyYW5zZm9ybWF0aW9uUG9zaXRpb24iLCJSZWFjdCIsIlByb3ZpZGVyIiwidmFsdWUiLCJjaGlsZHJlbiIsIkltYWdlIiwibG9hZGVyIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29uc29sZSIsIndhcm4iLCJjb250ZXh0VmFsdWVzIiwidXNlQ29udGV4dCIsIl9hIiwiT2JqZWN0IiwiYXNzaWduIiwidHJhbnNmb3JtYXRpb24iLCJ1bm9wdGltaXplZCIsInF1YWxpdHkiLCJzcmMiLCJxdWVyeVBhcmFtZXRlcnMiLCJyZXNwb25zaXZlIiwibm9uSUtQYXJhbXMiLCJfX3Jlc3QiLCJ0cmltIiwiZXJyb3IiLCJpc0Fic29sdXRlVVJMIiwic3RhcnRzV2l0aCIsImZpbmFsVHJhbnNmb3JtYXRpb24iLCJwcm9wc1RyYW5zZm9ybWF0aW9uIiwicGFyc2VkUXVhbGl0eSIsIk51bWJlciIsImlzTmFOIiwiY3JlYXRlRWxlbWVudCIsIk5leHRJbWFnZSIsImJ1aWxkU3JjIiwiZmluYWxTcmNXaXRob3V0VHJhbnNmb3JtYXRpb24iLCJ3aWR0aCIsInNyY1dpdGhvdXRVcmxFbmRwb2ludCIsInJlcGxhY2UiLCJmaW5hbFNyYyIsImNyb3AiLCJWaWRlbyJdLCJpZ25vcmVMaXN0IjpbMCwxXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@imagekit/next/dist/client/index-esm.js\n");

/***/ })

};
;